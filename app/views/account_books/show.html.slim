- breadcrumb :account_book
= content_for(:title, t('.title'))
section.text-gray-600.body-font.overflow-hidden
  .container.px-10.py-20.mx-auto
    .flex.flex-wrap.-m-10.bg-beaver-50.rounded-3xl.justify-center.shadow-md
      / 家計簿部分
      .p-12.md:w-1/2.flex.flex-col.items-start
        div class="w-full py-1 px-2 mb-5 rounded text-gray-600 text-xl font-medium tracking-widest flex items-center flex-wrap justify-left"
          <img alt="blog" src="https://dummyimage.com/104x104" class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center mr-3">
          p #{@account_book.user.nickname}さん
          p.mt-3 #{l @account_book.date, format: :short}の家計簿
        .flex.items-center.flex-wrap.pb-4.mb-2.border-gray-100.mt-auto.w-full.justify-center
          span class="inline-block py-1 px-2 mb-5 rounded text-carrot-600 text-xl font-medium tracking-widest" #{@account_book.user.nickname}さん #{l @account_book.date, format: :short}の家計簿
          = pie_chart @expenses,library: {title: {text: "支出<br> #{number_to_currency(@sum_of_expenditure)}"}}
          .items-right.w-full.text-right
            = render 'like_button', account_book: @account_book
          / 家計簿部分
          table.text-left.w-full.border-collapse.mt-4.break-all.whitespace-pre-wrap.table-fixed.tracking-wide
           thead
              tr
                th.table-border = UserProfile.human_attribute_name(:total_assets)
                td.table-border.text-right = show_money(@user_profile.total_assets)
              tr
                th.table-border = UserProfile.human_attribute_name(:monthly_income)
                td.table-border.text-right = show_money(@user_profile.monthly_income)
              tr
                th.table-border = Expense.model_name.human
                td.table-border.text-right = show_money(@sum_of_expenditure)
           thead.bg-carrot-200
              tr
                th.table-border = ExpenseItem.human_attribute_name(:name)
                th.table-border.text-center = Expense.human_attribute_name(:expenditure)
           tbody
              - @expenses.each do |expense_item, expenditure|
                tr
                  td.table-border
                    span class="fa-stack fa-lg text-carrot-300 items-center justify-center w-15 mr-3"
                      i class="fas fa-circle fa-stack-2x"
                      i class="fas fa-#{show_icon(expense_item)} fa-stack-1x text-white"
                    span.justify-right = expense_item
                  td.table-border.text-right = number_to_currency(expenditure)
          .flex.justify-center
            = link_to t('defaults.edit_account_book'), edit_account_book_path(@account_book), class: 'light-square-button mt-5'
      / プロフィール部分
      .p-12.md:w-1/2.flex.flex-col.items-start
        .flex.items-center.flex-wrap.pb-4.mb-2.border-gray-100.mt-auto.w-full.justify-center.tracking-wide
          p.w-full.m-10 Twitterでシェア
          span class="fa-stack fa-lg text-blue-500 items-center justify-center mr-3"
            i class="fas fa-circle fa-stack-2x"
            i class="fab fa-twitter fa-stack-1x text-white"
          a class="inline-flex items-center"
          <img alt="blog" src="https://dummyimage.com/104x104" class="w-12 h-12 rounded-full flex-shrink-0 object-cover object-center">
          span class="flex-grow flex flex-col pl-4"
            span class="title-font font-medium text-gray-900" #{@account_book.user.nickname}
            span class="text-gray-400 text-xs tracking-widest mt-0.5" twitter-url
          / プロフィールテーブル
          table.w-full.border-collapse.mt-4.break-all.whitespace-pre-wrap.table-fixed.tracking-wide
           tbody
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:age)
                td.table-border.text-center = "#{show_value(@user_profile.age)} 歳"
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:job)
                td.table-border.text-center = show_value(@user_profile.job)
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:annual_income)
                td.table-border.text-center = show_money(@user_profile.annual_income)
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:residence)
                td.table-border.text-center = show_value(@user_profile.residence)
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:household_member)
                td.table-border.text-center = show_value(@user_profile.household_member_i18n)
              tr
                th.table-border.w-25 = UserProfile.human_attribute_name(:message)
                td.table-border.text-left = show_value(@user_profile.message)
          .flex.justify-center
            = link_to t('defaults.edit_user_profile'), edit_user_profile_path(@user_profile), class: 'light-square-button mt-5'

